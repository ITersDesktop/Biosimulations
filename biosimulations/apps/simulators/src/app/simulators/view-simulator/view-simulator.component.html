<biosimulations-tab-page [loading]="loading$ | async">
  <biosimulations-tab-page-tab heading="Overview" icon="overview">
    <div class="overview grid">
      <div>
        <h2>{{ id }}: {{ name }}</h2>    
            <p>
                {{ description }}
            </p>

            <table class="icon-list">
                <tbody>
                    <tr>
                        <th><biosimulations-icon icon="docker"></biosimulations-icon></th>
                        <td><a [href]="image" target="_blank">{{ image }}</a></td>
                    </tr>
                    <tr>
                        <th><biosimulations-icon icon="link"></biosimulations-icon></th>
                        <td><a [href]="url" target="_blank">{{ url }}</a></td>
                    </tr>
                    <tr>
                        <th><biosimulations-icon icon="legal"></biosimulations-icon></th>
                        <td><a [href]="licenseUrl" target="_blank">{{ licenseName }}</a></td>
                    </tr>
                    <tr>
                        <th><biosimulations-icon icon="user"></biosimulations-icon></th>
                        <td>{{ authors }}</td>
                    </tr>
                </tbody>

                <tbody class="citations">
                    <tr *ngFor="let citation of citations">
                        <th><biosimulations-icon icon="tutorial"></biosimulations-icon></th>
                        <td><a [href]="citation.url" target="_blank" [innerHTML]="citation.text"></a></td>
                    </tr>
                </tbody>
            </table>    
        </div>
        <div>
            <p class="subsection-heading">Docker pull command</p>
            <pre>docker pull {{ image }}</pre>
        </div>
    </div>
  </biosimulations-tab-page-tab>

  <biosimulations-tab-page-tab heading="Algorithms" icon="simulator" class="algorithms">
    <div *ngFor="let algorithm of algorithms" class="section algorithm">
      <h2>{{ algorithm.id}}: {{ algorithm.name }}</h2>
      <div class="section-content">
        <p class="subsection-heading no-bottom-margin">Description</p>
        <p>{{ algorithm.description }}</p>

        <p class="subsection-heading no-bottom-margin">Modeling frameworks</p>
        <ul class="icon-list">
            <li *ngFor="let framework of algorithm.frameworks">
                <biosimulations-icon icon="simulator"></biosimulations-icon>            
                <a [href]="framework.url" target="_blank">{{ framework.name }}</a>
            </li>
        </ul>

        <p class="subsection-heading no-bottom-margin">Model formats</p>
        <ul class="icon-list">
            <li *ngFor="let format of algorithm.formats">
                <biosimulations-icon icon="format"></biosimulations-icon>            
                <a [href]="format.url" target="_blank">{{ format.name }}</a>
            </li>
        </ul>

        <p class="subsection-heading no-bottom-margin">Citations</p>
        <ul class="icon-list">
            <li *ngFor="let citation of algorithm.citations">
                <biosimulations-icon icon="tutorial"></biosimulations-icon>
                <a [href]="citation.url" target="_blank" [innerHTML]="citation.text"></a>
            </li>
        </ul>

        <p class="subsection-heading no-bottom-margin">Parameters</p>
        <mat-table [dataSource]="algorithm.parameters" class="algorithm-parameters">          
          <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef>Id</mat-header-cell>
            <mat-cell *matCellDef="let parameter">
              <div class="cell-content-container lines-one">
                {{ parameter.id }}
            </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let parameter">
              <div class="cell-content-container lines-one">
                {{ parameter.name }}
            </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="type">
            <mat-header-cell *matHeaderCellDef>Type</mat-header-cell>
            <mat-cell *matCellDef="let parameter">
              <div class="cell-content-container lines-one">
                {{ parameter.type }}
            </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="value">
            <mat-header-cell *matHeaderCellDef>Value</mat-header-cell>
            <mat-cell *matCellDef="let parameter">
              <div class="cell-content-container lines-one">
                {{ parameter.value }}
            </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="range">
            <mat-header-cell *matHeaderCellDef>Recommended range</mat-header-cell>
            <mat-cell *matCellDef="let parameter">
              <div class="cell-content-container lines-one">
                {{ parameter.range }}
            </div>
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="kisaoId">
            <mat-header-cell *matHeaderCellDef>KiSAO id</mat-header-cell>
            <mat-cell *matCellDef="let parameter">
              <div class="cell-content-container lines-one">
                KISAO:{{ parameter.kisaoId }}
                <a *ngIf="parameter.kisaoUrl" [href]="parameter.url" target="_blank"><biosimulations-icon icon="link"></biosimulations-icon></a>
            </div>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="parameterColumns; sticky: true"></mat-header-row>
          <mat-row *matRowDef="let row; columns: parameterColumns"></mat-row>
        </mat-table>
      </div>
    </div>
  </biosimulations-tab-page-tab>

  <biosimulations-tab-page-tab heading="Versions" icon="version">
    <mat-table [dataSource]="versions" class="versions">
      <ng-container matColumnDef="label">
        <mat-header-cell *matHeaderCellDef>Version</mat-header-cell>
        <mat-cell *matCellDef="let version">
          <div class="cell-content-container lines-one">
            {{ version.label }}
        </div>
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
        <mat-cell *matCellDef="let version">
          <div class="cell-content-container lines-one">
            {{ version.date }}
        </div>
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="image">
        <mat-header-cell *matHeaderCellDef>Image</mat-header-cell>
        <mat-cell *matCellDef="let version">
          <div class="cell-content-container lines-one">
            {{ version.image }}
            <a *ngIf="version.url" [href]="version.url" target="_blank"><biosimulations-icon icon="link"></biosimulations-icon></a>
          </div>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="versionColumns; sticky: true"></mat-header-row>
      <mat-row *matRowDef="let row; columns: versionColumns"></mat-row>
    </mat-table>
  </biosimulations-tab-page-tab>
</biosimulations-tab-page>
