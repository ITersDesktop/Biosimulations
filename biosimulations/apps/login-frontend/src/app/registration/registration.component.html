<div class="content mat-typography">
  <h1 class="header">
    Thank you for creating an account. Just a few more steps:
  </h1>

  <mat-horizontal-stepper linear="true" labelPosition="bottom" #stepper>
    <mat-step [stepControl]="termsAndConditionsForm">
      <ng-template matStepLabel>Terms of Service</ng-template>
      <p>
        To create a Biosimulations account, you must agree to the Terms of
        Service, Code of Conduct, and Privacy Policy
      </p>
      <p>
        Please <a [href]="aboutUrl"> contact us</a> if you have any questions
      </p>
      <form
        form
        class="terms"
        fxLayout="row"
        fxLayout.lt-lg="column"
        fxLayoutGap="2%"
        [formGroup]="termsAndConditionsForm"
        #termsForm
      >
        <biosimulations-login-agreement
          [agreementUrl]="tosUrl"
          checkboxMessage=" I agree to the terms"
          formControlName="tos"
        >
        </biosimulations-login-agreement>

        <biosimulations-login-agreement
          [agreementUrl]="ppoUrl"
          checkboxMessage=" I agree to the terms"
          formControlName="ppo"
        >
        </biosimulations-login-agreement>

        <biosimulations-login-agreement
          [agreementUrl]="ccUrl"
          checkboxMessage=" I agree to the terms"
          formControlName="coc"
        >
        </biosimulations-login-agreement>
      </form>
      <biosimulations-stepper-buttons
        [showPrevious]="false"
        [enableNext]="this.termsAndConditionsForm.valid"
      ></biosimulations-stepper-buttons>
    </mat-step>

    <mat-step [stepControl]="userNameForm">
      <form [formGroup]="userNameForm">
        <ng-template matStepLabel>Choose a Username</ng-template>
        <mat-form-field>
          <mat-label id="usernameLabel">Username</mat-label>
          <input
            aria-labelledby="usernameLabel"
            matInput
            placeholder="Choose a username..."
            formControlName="firstCtrl"
            required
          />
        </mat-form-field>
        <biosimulations-stepper-buttons></biosimulations-stepper-buttons>
      </form>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p>You are now done.</p>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button
          mat-raised-button
          color="primary"
          (click)="this.continueLogin()"
        >
          Continue Login
        </button>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
</div>
<biosimulations-debug-viewer>
  <p>state: {{ this.state | async }}</p>
  <p>Token: {{ this.token | async }}</p>
  <pre>
<p>form: {{ this.termsAndConditionsForm.valueChanges | async |json}}</p>
</pre>
</biosimulations-debug-viewer>
